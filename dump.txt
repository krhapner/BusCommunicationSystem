PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE DRIVER_ROUTES(Driver_id REFERENCES DRIVER(Driver_id), Route_number INTEGER NOT NULL REFERENCES ROUTE(Route_number), PRIMARY KEY(Driver_id, Route_number) );
INSERT INTO "DRIVER_ROUTES" VALUES(1,1);
INSERT INTO "DRIVER_ROUTES" VALUES(1,2);
CREATE TABLE USER (User_id INTEGER PRIMARY KEY AUTOINCREMENT, Username TEXT NOT NULL UNIQUE, Password TEXT NOT NULL UNIQUE, Role TEXT, Student_id REFERENCES STUDENT(Student_id), Driver_id REFERENCES DRIVER(Driver_id) );
INSERT INTO "USER" VALUES(1,'admin','admin','administrator',NULL,NULL);
INSERT INTO "USER" VALUES(2,'bus_driver1','bs1','bus_driver',NULL,1);
INSERT INTO "USER" VALUES(3,'student_1','st1','student_parent',1,NULL);
INSERT INTO "USER" VALUES(4,'student_2','st2','student_parent',2,NULL);
INSERT INTO "USER" VALUES(5,'student_3','st3','student_parent',3,NULL);
INSERT INTO "USER" VALUES(6,'daddy','daddy','student_parent',4,NULL);
CREATE TABLE MESSAGE(Message_id INTEGER PRIMARY KEY AUTOINCREMENT, Subject TEXT, Message TEXT, Sender TEXT, Date TEXT, Read INTEGER DEFAULT 0, Student_id REFERENCES STUDENT(Student_id), Driver_id REFERENCES DRIVER(Driver_id));
INSERT INTO "MESSAGE" VALUES(1,'Not Riding Today','John Smith will not be riding the bus today','John Smith','2016-01-01',0,1,1);
INSERT INTO "MESSAGE" VALUES(2,'Not Riding Today','Sarah Andrews will not be riding the bus today','Chris Andrews','2016-01-01',0,1,1);
INSERT INTO "MESSAGE" VALUES(3,'Not Riding Today','Billy Brown will not be riding the bus today','Rachael Brown','2016-01-01',0,1,2);
CREATE TABLE STUDENT (Student_id INTEGER PRIMARY KEY AUTOINCREMENT, First_name TEXT NOT NULL, Last_name TEXT NOT NULL, Address TEXT, Birthdate TEXT CONSTRAINT Birthdate CHECK(Birthdate < date('now')), Route_number REFERENCES ROUTE(Route_number),Emergency_contact_id REFERENCES EMERGENCY_CONTACT(Emergency_contact_id), Schedule_id REFERENCES SCHEDULE(Schedule_id));
INSERT INTO "STUDENT" VALUES(1,'John','Smith','122 W. Maple Dr.','1995-11-16',1,1,1);
INSERT INTO "STUDENT" VALUES(2,'Sarah','Andrews','436 Oakwood Ave.','1992-03-05',1,2,2);
INSERT INTO "STUDENT" VALUES(3,'Billy','Brown','852 S. Glenview Dr.','1994-02-01',2,3,3);
INSERT INTO "STUDENT" VALUES(4,'Bailey','Green','4001 N. State Road 9','1997-04-03',2,4,4);
CREATE TABLE DRIVER (Driver_id INTEGER PRIMARY KEY AUTOINCREMENT, First_name NOT NULL, Last_name NOT NULL,Phone);
INSERT INTO "DRIVER" VALUES(1,'Bob','Driver','765-555-5555');
INSERT INTO "DRIVER" VALUES(2,'Sandy','Rogers','765-142-6573');
INSERT INTO "DRIVER" VALUES(3,'Charlie','Jones','594-245-2854');
INSERT INTO "DRIVER" VALUES(4,'Maren','Conely','765-257-3424');
INSERT INTO "DRIVER" VALUES(5,'Pat','Richardson','854-654-1325');
CREATE TABLE BUS (Bus_number INTEGER PRIMARY KEY AUTOINCREMENT, Make TEXT, Model TEXT, Year TEXT, Capacity INTEGER);
INSERT INTO "BUS" VALUES(1,'Blue Bird','Type B','2002',1);
INSERT INTO "BUS" VALUES(2,'Blue Bird','Type C','2007',100);
INSERT INTO "BUS" VALUES(3,'General Motors','Type A','1995',25);
INSERT INTO "BUS" VALUES(4,'General Motors','Type B','1995',50);
INSERT INTO "BUS" VALUES(5,'Ford','Type D','1992',65);
CREATE TABLE ROUTE (Route_number INTEGER PRIMARY KEY AUTOINCREMENT, Pick_up_location TEXT,Start_time TEXT,Drop_off_location TEXT,End_time TEXT,Condition_id REFERENCES CONDITION(Condition_id) DEFAULT 1,Bus_number REFERENCES BUS(Bus_number), Driver_id REFERENCES DRIVER(Driver_id));
INSERT INTO "ROUTE" VALUES(1,'Hamilton Village','7:00AM','West View Middle School','8:00AM',1,1,1);
INSERT INTO "ROUTE" VALUES(2,'Country Village','8:00AM','West View High School','9:00AM',1,2,1);
INSERT INTO "ROUTE" VALUES(3,'Haltemon Neighborhood','6:00AM','West View Elementary','7:00AM',1,3,2);
INSERT INTO "ROUTE" VALUES(4,'Creekwood Neighborhood','8:00AM','West View High School','9:00AM',1,4,3);
INSERT INTO "ROUTE" VALUES(5,'Country Village','7:00AM','West View Middle School','8:00AM',1,5,4);
CREATE TABLE CONDITION (Condition_id INTEGER PRIMARY KEY AUTOINCREMENT, Color TEXT NOT NULL,Description TEXT,Minutes_late TEXT);
INSERT INTO "CONDITION" VALUES(1,'Green','Route is running on time','0');
INSERT INTO "CONDITION" VALUES(2,'Green','Route is running a few minutes late.','3-5');
INSERT INTO "CONDITION" VALUES(3,'Yellow','Route is running on the late side.','5-8');
INSERT INTO "CONDITION" VALUES(4,'Yellow','Route is late, but students will still get to school on time.','8-10');
INSERT INTO "CONDITION" VALUES(5,'Red','Route is late, students will get to school a little late','10-20');
INSERT INTO "CONDITION" VALUES(6,'Red','Route is very late, expect to miss some class time.','20-30');
INSERT INTO "CONDITION" VALUES(7,'Red','Route is very late, if possible find a ride. If not you will be late to school and miss class, but it will be excused.','30 and beyond');
CREATE TABLE EMERGENCY_CONTACT (Emergency_contact_id INTEGER PRIMARY KEY AUTOINCREMENT,First_name TEXT NOT NULL,Last_name TEXT NOT NULL, Relationship TEXT NOT NULL, Phone TEXT NOT NULL);
INSERT INTO "EMERGENCY_CONTACT" VALUES(1,'Amanda','Smith','Mother','765-333-3333');
INSERT INTO "EMERGENCY_CONTACT" VALUES(2,'Chris','Andrews','Father','631-233-1423');
INSERT INTO "EMERGENCY_CONTACT" VALUES(3,'Rachael','Brown','Mother','765-123-2346');
INSERT INTO "EMERGENCY_CONTACT" VALUES(4,'Janine','Lyons','Friend of family','671-234-5409');
CREATE TABLE SCHEDULE (Schedule_id INTEGER PRIMARY KEY AUTOINCREMENT, Monday INTEGER DEFAULT 0,Tuesday INTEGER DEFAULT 0,Wednesday INTEGER DEFAULT 0,Thursday INTEGER DEFAULT 0, Friday INTEGER DEFAULT 0);
INSERT INTO "SCHEDULE" VALUES(1,1,1,1,1,1);
INSERT INTO "SCHEDULE" VALUES(2,1,1,0,1,1);
INSERT INTO "SCHEDULE" VALUES(3,1,0,1,0,1);
INSERT INTO "SCHEDULE" VALUES(4,0,1,0,1,0);
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('USER',6);
INSERT INTO "sqlite_sequence" VALUES('MESSAGE',3);
INSERT INTO "sqlite_sequence" VALUES('STUDENT',4);
INSERT INTO "sqlite_sequence" VALUES('DRIVER',5);
INSERT INTO "sqlite_sequence" VALUES('BUS',5);
INSERT INTO "sqlite_sequence" VALUES('ROUTE',5);
INSERT INTO "sqlite_sequence" VALUES('CONDITION',7);
INSERT INTO "sqlite_sequence" VALUES('EMERGENCY_CONTACT',4);
INSERT INTO "sqlite_sequence" VALUES('SCHEDULE',4);
COMMIT;
